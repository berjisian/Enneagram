<div class="detection-page">
    <div class="row pre-explanation">
        <div class="col-md-6 col-sm-12 col-md-offset-right-3">
            <div ng-if="Data.mode === 'none'">
                <div class="pre-explanation-main">
                    قبل از این که بریم سراغ سؤال‌ها، دوست داری یک نگاه به گروه‌های مختلف بندازی؟
                </div>
                <div class="pre-explanation-extra">
                    توضیحات اضافه!
                </div>
                <button type="button" class="btn btn-success" ng-click="Func.onOpenExplanationClick()">چرا که نه!
                </button>
                <button type="button" class="btn btn-danger" ng-click="Func.onCancelExplanationClick()">باشه برای بعد
                </button>
            </div>
            <div ng-if="Data.mode === 'selectProbableGroups'" class="row">
                <div class="col-sm-6">
                    <div class="pre-explanation-main">
                        فکر میکنی توی کدوم یکی از گروه‌ها باشی؟
                    </div>
                    <div>
                    <span ng-repeat="group in Data.tempProbableGroups" ng-if="group.value<4" class="group-btn"
                          ng-click="Func.onGroupClick('probable', group.value)"
                          ng-class="{'active-btn': group.active}">{{group.value}}</span>
                        <br>
                        <span ng-repeat="group in Data.tempProbableGroups" ng-if="group.value>3 && group.value<7"
                              class="group-btn"
                              ng-click="Func.onGroupClick('probable', group.value)"
                              ng-class="{'active-btn': group.active}">{{group.value}}</span>
                        <br>
                        <span ng-repeat="group in Data.tempProbableGroups" ng-if="group.value>6" class="group-btn"
                              ng-click="Func.onGroupClick('probable', group.value)"
                              ng-class="{'active-btn': group.active}">{{group.value}}</span>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="pre-explanation-main">
                        دوست داشتی توی کدوم گروه باشی؟
                    </div>
                    <div>
                    <span ng-repeat="group in Data.tempPreferredGroups" ng-if="group.value<4" class="group-btn"
                          ng-click="Func.onGroupClick('preferred', group.value)"
                          ng-class="{'active-btn': group.active}">{{group.value}}</span>
                        <br>
                        <span ng-repeat="group in Data.tempPreferredGroups" ng-if="group.value>3 && group.value<7"
                              class="group-btn"
                              ng-click="Func.onGroupClick('preferred', group.value)"
                              ng-class="{'active-btn': group.active}">{{group.value}}</span>
                        <br>
                        <span ng-repeat="group in Data.tempPreferredGroups" ng-if="group.value>6" class="group-btn"
                              ng-click="Func.onGroupClick('preferred', group.value)"
                              ng-class="{'active-btn': group.active}">{{group.value}}</span>
                        <br>
                    </div>
                </div>
                <div class="col-sm-12">
                    <button type="button" class="btn btn-success" ng-click="Func.onCancelExplanationClick()">تأیید
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-if="Data.mode != 'showAnswer'">
        <div class="col-md-6 col-sm-12 col-md-offset-right-3 row">
            <div class="question-part">
                <ul>
                    <li ng-repeat="question in Data.questions" class="row" id="question-{{question.num}}"
                        ng-class="{'not-answered': Data.showAnswer && !question.answer}">
                        <div class="col-sm-6 question-phrase"
                             ng-class="{'selected-answer': question.answer == question.first.value}"
                             ng-click="Func.onAnswerSelect(question, question.first.value)">
                            {{question.first.phrase}}
                        </div>
                        <div class="col-sm-6 question-phrase"
                             ng-class="{'selected-answer': question.answer == question.second.value}"
                             ng-click="Func.onAnswerSelect(question, question.second.value)">
                            {{question.second.phrase}}
                        </div>
                    </li>
                </ul>
                <button type="button" class="btn btn-success" ng-click="Func.calculateTestResult()">
                    اتمام
                </button>
            </div>
        </div>
    </div>
    <div class="answer-part row" ng-if="Data.mode == 'showAnswer'">
        <div class="col-sm-12 answer-part-header">
            <h2>نتیجه</h2>
        </div>
        <div class="col-md-10 col-sm-12 col-md-offset-right-1 answer-part-body row">
            <div class="col-md-12 col-sm-12 answer-part-explanation">توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات
                توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات
                توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات توضیحات
            </div>
            <div class="col-md-5 col-sm-12 answer-part-mbti">
                <h5>در قیاس با MBTI</h5>
                <span>اگر میدونی توی کدوم یکی از گروه‌های ۱۶گانه MBTI قرار داری، میتونی اون رو هم مشخص کنی تا با نتیجه انیاگرام مقایسه بشه.</span>
                <ui-select ng-model="Data.approvedMbtiGroup" theme="selectize" on-select="Func.transferMbtiResult()">
                    <ui-select-match placeholder="گروه‌های MBTI">
                        {{$select.selected}}
                    </ui-select-match>
                    <ui-select-choices repeat="group in Data.mbtiGroups">
                        {{group}}
                    </ui-select-choices>
                </ui-select>
                <span>اگر گروه MBTI خودت رو نمیدونی، میتونی از سایت زیر پیداش کنی!</span>
                <br><br>
                <a href="https://www.16personalities.com/" target="_blank">آزمون MBTI</a>
            </div>
            <div class="col-md-5 col-sm-12 col-md-offset-right-2 answer-part-disc">
                <h5>در قیاس با DISC</h5>
                <span>اگر میدونی گروه غالبت توی DISC چیه، میتونی اون رو هم مشخص کنی تا با نتیجه انیاگرام مقایسه بشه.</span>
                <ui-select ng-model="Data.approvedDiscGroup" theme="selectize" on-select="Func.transferDiscResult()">
                    <ui-select-match placeholder="گروه‌های DISC">
                        {{$select.selected}}
                    </ui-select-match>
                    <ui-select-choices repeat="group in Data.discGroups">
                        {{group}}
                    </ui-select-choices>
                </ui-select>
                <span>اگر گروه DISC خودت رو نمیدونی، میتونی از سایت زیر پیداش کنی!</span>
                <br><br>
                <a href="https://discpersonalitytesting.com/free-disc-test/" target="_blank">آزمون DISC</a>
            </div>
            <table class="table table-striped result-table">
                <thead class="table-header">
                <tr>
                    <th style="background-color: #ebebeb !important;"></th>
                    <th ng-repeat="group in Data.groups">{{group}}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>امتیازات آزمون</th>
                    <th ng-repeat="group in Data.resultGroups track by $index">{{group}}</th>
                </tr>
                <tr>
                    <th>گروه‌های احتمالی</th>
                    <th ng-repeat="group in Data.probableGroups track by $index">{{group}}</th>
                </tr>
                <tr>
                    <th>گروه‌های موردعلاقه</th>
                    <th ng-repeat="group in Data.preferredGroups track by $index">{{group}}</th>
                </tr>
                <tr>
                    <th>گروه‌‌های هم‌ارز MBTI</th>
                    <th ng-repeat="group in Data.transferredMbtiResult track by $index">{{group}}</th>
                </tr>
                <tr>
                    <th>گروه‌‌های هم‌ارز DISC</th>
                    <th ng-repeat="group in Data.transferredDiscResult track by $index">{{group}}</th>
                </tr>
                <tr class="final-result-row">
                    <th>نتیجه نهایی</th>
                    <th ng-repeat="group in Data.finalResult track by $index">{{group}}</th>
                </tr>
                </tbody>
            </table>
            <div class="col-md-4 col-sm-12 col-md-offset-right-4 move-to-groups">
                <span>دوست داری گروه خودتو بهتر بشناسی؟</span>
                <br><br>
                <button class="btn btn-success" ui-sref="home.library.types">آشنایی با گروه‌ها</button>
            </div>
        </div>
    </div>
</div>